(this["webpackJsonptienda-virtual"]=this["webpackJsonptienda-virtual"]||[]).push([[0],{310:function(e,t,a){},459:function(e,t,a){},477:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),s=a.n(r),i=(a(310),a(27)),o=a(34),l=a(11),d=a.n(l),j=a(22),u=a(10),b=Object(n.createContext)(),p=Object(n.createContext)(),h=Object(n.createContext)(),O=a(1),m=function(e){var t=e.producto,a=Object(n.useContext)(b),c=a.removeProductCart,r=a.getTotal,s=a.getCart,i=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return e.next=4,s();case 4:r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("img",{src:"".concat("https://nameless-reef-75485.herokuapp.com","/").concat(t.img),alt:""})}),Object(O.jsx)("td",{children:t.name}),Object(O.jsx)("td",{children:t.price}),Object(O.jsx)("td",{children:t.cant}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{className:"btn-eliminar",onClick:function(){return i(t.productId)},children:Object(O.jsx)("i",{className:"far fa-trash-alt"})})})]})})})},x=function(e){var t=e.cantidades;return Object(O.jsx)("div",{className:"notificacion",children:t?Object(O.jsx)("p",{children:t}):null})},f=function(){var e=Object(o.g)(),t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useContext)(b),i=Object(n.useContext)(h).createOrder,l=s.carrito,f=s.Total,g=s.getTotal,v=s.emptyCart,N=s.getCart,y=s.inicializeCart,w=Object(n.useContext)(p).autenticado,C=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={carrito:l,Total:f},y(),t.next=4,i(a);case 4:e.push("/usuario/compras");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=5;break}return e.next=3,N();case 3:0!==l&&(r(!0),g());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w]),Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("ul",{children:Object(O.jsxs)("li",{className:"submenu",children:[Object(O.jsx)("i",{className:"fas fa-shopping-cart"}),c&&w?Object(O.jsx)(x,{cantidades:null===l||void 0===l?void 0:l.length}):null,w?Object(O.jsxs)("div",{id:"carrito",children:[Object(O.jsxs)("table",{id:"lista-carrito",className:"carrito",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Imagen"}),Object(O.jsx)("th",{children:"Nombre"}),Object(O.jsx)("th",{children:"Precio"}),Object(O.jsx)("th",{children:"Cantidad"}),Object(O.jsx)("th",{children:"Action"}),Object(O.jsx)("th",{})]})}),null===l||void 0===l?void 0:l.map((function(e){return Object(O.jsx)(m,{producto:e},e.productId)}))]}),0===l.length?Object(O.jsx)("p",{children:"El carrito esta vacio"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"total",children:Object(O.jsxs)("p",{children:["Total: ",Object(O.jsxs)("span",{children:["$ ",f]})]})}),Object(O.jsx)("button",{className:"btn-vaciar",onClick:function(){v()},children:"Vaciar Carrito"}),Object(O.jsx)("button",{className:"btn-pagar",onClick:C,children:"Ir a Pago"})]})]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{id:"carrito",children:Object(O.jsx)("p",{children:"Aun no estas logueado"})})})]})})})},g=function(){var e=Object(n.useContext)(p),t=e.autenticado,a=e.usuario,c=e.signOut;return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("header",{id:"header",className:"header",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"navegacion",children:[Object(O.jsxs)("div",{className:"logo efecto",id:"logo",children:["Digital shop",Object(O.jsx)("span",{id:"span1"}),Object(O.jsx)("span",{id:"span2"}),Object(O.jsx)("span",{id:"span3"}),Object(O.jsx)("span",{id:"span4"})]}),Object(O.jsxs)("nav",{className:"nav__icons",children:[a?Object(O.jsx)("div",{className:"usuario",children:Object(O.jsxs)(i.b,{to:"/usuario/compras",id:"nombre",children:["HOLA: ",a.name]})}):null,t?Object(O.jsx)("div",{className:"icono",children:Object(O.jsx)(i.b,{to:"#!",className:"icon",onClick:function(){return c()},children:Object(O.jsx)("i",{className:"fas fa-sign-out-alt"})})}):Object(O.jsx)("div",{className:"icono",children:Object(O.jsx)(i.b,{to:"/login",className:"icon",children:Object(O.jsx)("i",{className:"fas fa-user"})})}),"ADMIN_ROLE"===(null===a||void 0===a?void 0:a.rol)?Object(O.jsx)(i.b,{to:"/administracion",className:"icon admin",children:Object(O.jsx)("i",{className:"fas fa-user-shield"})}):null,Object(O.jsx)(f,{})]})]})})})})},v=a(8),N=a(510),y=a(482),w=a(480),C=a(285),E=Object(N.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,2,3)}}}));function S(e){var t=e.producto,a=Object(o.g)(),r=Object(n.useContext)(b),s=r.carrito,i=r.addCart,l=r.getTotal,h=r.getCart,m=Object(n.useContext)(p).autenticado,x=E(),f=c.a.useState(!1),g=Object(u.a)(f,2),N=g[0],S=g[1],k=function(){S(!1)},_=Object(n.useState)({idProducto:t._id,nombre:t.nombre,descripcion:t.descripcion,precio:t.price,img:t.imagen,cantidad:0}),R=Object(u.a)(_,2),P=R[0],B=R[1],I=Object(n.useState)(0),T=Object(u.a)(I,2),A=T[0],D=T[1],M=function(){var e=P.cantidad*P.precio;D(e)},U=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(),0!==t.cantidad){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i(P);case 5:h(),l(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"boton agregar-carrito",onClick:function(){if(!m)return a.push("/login");S(!0)},children:"Agregar Al Carrito"}),Object(O.jsx)(y.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:"".concat(x.modal," mobile-modal"),open:N,onClose:k,closeAfterTransition:!0,BackdropComponent:w.a,BackdropProps:{timeout:500},children:Object(O.jsx)(C.a,{in:N,children:Object(O.jsxs)("div",{className:x.paper,children:[Object(O.jsx)("h2",{id:"transition-modal-title",className:"titulo-modal",children:t.name}),Object(O.jsxs)("div",{className:"flex-modal",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:"".concat("https://nameless-reef-75485.herokuapp.com","/").concat(t.img),className:"imagen-modal",alt:"imagen"})}),Object(O.jsxs)("div",{className:"detalles-producto",children:[Object(O.jsx)("p",{id:"transition-modal-description",className:"ancho-fijo",children:t.description}),Object(O.jsxs)("div",{className:"contenedor-cantidad",children:[Object(O.jsx)("p",{children:"CANTIDAD"}),Object(O.jsx)("i",{className:"fas fa-minus",onClick:function(){return function(){var e=P;0!==e.cantidad&&(e.cantidad--,B(Object(v.a)(Object(v.a)({},P),{},{cantidad:e.cantidad})),M())}()}}),Object(O.jsx)("p",{children:P.cantidad}),Object(O.jsx)("i",{className:"fas fa-plus",onClick:function(){return function(){var e=P;e.cantidad++,B(Object(v.a)(Object(v.a)({},P),{},{cantidad:e.cantidad})),M()}()}})]}),Object(O.jsxs)("p",{children:["STOCK: ",t.stock]}),Object(O.jsxs)("p",{className:"precio-modal",children:["$",t.price," /unididad"]}),Object(O.jsxs)("p",{className:"total-modal",children:["Total: ",A,"   "]})]})]}),Object(O.jsx)("button",{className:"btn-modal",onClick:function(){return U(P)},children:"CONFIRMAR"})]})})})]})}var k=function(e){var t=e.producto;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("img",{src:"".concat("https://nameless-reef-75485.herokuapp.com","/").concat(t.img),className:"imagen-producto",alt:"imagen producto"}),Object(O.jsxs)("div",{className:"info-card",children:[Object(O.jsx)("h4",{children:t.name}),Object(O.jsx)("p",{children:"Garantia de 6 meses"}),Object(O.jsxs)("p",{className:"precio",children:["$",t.price," "]}),Object(O.jsx)(S,{producto:t})]})]})},_=Object(n.createContext)(),R=function(){var e=Object(n.useContext)(_),t=e.productos,a=e.getProducts;return Object(n.useEffect)((function(){a()}),[]),Object(O.jsxs)("div",{id:"lista-cursos",className:"container",children:[Object(O.jsx)("h1",{id:"encabezado",className:"encabezado",children:"Productos"}),Object(O.jsx)("div",{className:"contenedor-grid",children:t.map((function(e){return Object(O.jsx)(k,{producto:e},e._id)}))})]})},P=function(){return Object(O.jsx)("footer",{className:"footer",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"footer-box",children:[Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("h3",{children:"EXTRAS"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Para tu Negocio"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Aplicaciones M\xf3viles"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Soporte"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Temas"})})]}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("h3",{children:"INFORMACION"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"\xbfQuienes Somos?"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Empleo"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Blog"})})]}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("h3",{children:"MI CUENTA"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Mi Cuenta"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Historial de Pedidos"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Lista de Deseos"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Newsletter"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Sugerencia"})})]}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("h3",{children:"CONTACTOS"}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"#",children:[Object(O.jsx)("i",{className:"fas fa-map-marker-alt"}),"7 Dream House, Dreammy street, 7131 Dreamville, ARG"]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"#",children:[Object(O.jsx)("i",{className:"far fa-envelope"}),"digitalshop@gmail.com"]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"#",children:[Object(O.jsx)("i",{className:"fas fa-phone-alt"}),"123-123-123"]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{href:"#",children:[Object(O.jsx)("i",{className:"far fa-paper-plane"}),"Dream City, ARG"]})})]})]})})})},B=a.p+"static/media/banner_01.692bdafe.png",I=a.p+"static/media/banner_02.da137a94.png",T=function(){return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("div",{className:"margin-80",children:Object(O.jsx)("div",{className:"hero",children:Object(O.jsxs)("div",{className:"glide",id:"glide_1",children:[Object(O.jsx)("div",{className:"glide__track","data-glide-el":"track",children:Object(O.jsxs)("ul",{className:"glide__slides",children:[Object(O.jsx)("li",{className:"glide__slide",children:Object(O.jsxs)("div",{className:"hero__center",children:[Object(O.jsxs)("div",{className:"hero__left",children:[Object(O.jsx)("span",{className:"",children:"New Inspiration 2020"}),Object(O.jsx)("h1",{className:"",children:"PHONES MADE FOR YOU!"}),Object(O.jsx)("p",{children:"Trending from mobile and headphone style collection"}),Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("button",{className:"hero__btn",children:"SHOP NOW"})})]}),Object(O.jsx)("div",{className:"hero__right",children:Object(O.jsx)("div",{className:"hero__img-container",children:Object(O.jsx)("img",{className:"banner_01",src:B,alt:"banner2"})})})]})}),Object(O.jsx)("li",{className:"glide__slide",children:Object(O.jsxs)("div",{className:"hero__center",children:[Object(O.jsxs)("div",{className:"hero__left",children:[Object(O.jsx)("span",{children:"New Inspiration 2020"}),Object(O.jsx)("h1",{children:"PHONES MADE FOR YOU!"}),Object(O.jsx)("p",{children:"Trending from mobile and headphone style collection"}),Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("button",{className:"hero__btn",children:"SHOP NOW"})})]}),Object(O.jsx)("div",{className:"hero__right",children:Object(O.jsx)("img",{className:"banner_02",src:I,alt:"banner2"})})]})})]})}),Object(O.jsxs)("div",{className:"glide__bullets","data-glide-el":"controls[nav]",children:[Object(O.jsx)("button",{className:"glide__bullet","data-glide-dir":"=0"}),Object(O.jsx)("button",{className:"glide__bullet","data-glide-dir":"=1"})]})]})})})})},A=a.p+"static/media/collection_01.398bab94.png",D=a.p+"static/media/collection_02.03f28223.png",M=function(){return Object(O.jsx)(n.Fragment,{children:Object(O.jsx)("section",{id:"collection",className:"section collection container",children:Object(O.jsxs)("div",{className:"collection__container","data-aos":"fade-up","data-aos-duration":"1200",children:[Object(O.jsxs)("div",{className:"collection__box",children:[Object(O.jsx)("div",{className:"img__container",children:Object(O.jsx)("img",{className:"collection_02",src:A,alt:""})}),Object(O.jsx)("div",{className:"collection__content",children:Object(O.jsxs)("div",{className:"collection__data",children:[Object(O.jsx)("span",{children:"New Colors Introduced"}),Object(O.jsx)("h1",{children:"HEADPHONES"}),Object(O.jsx)("a",{href:"#shop",children:"COMPRAR AHORA"})]})})]}),Object(O.jsxs)("div",{className:"collection__box",children:[Object(O.jsx)("div",{className:"img__container",children:Object(O.jsx)("img",{className:"collection_01",src:D,alt:""})}),Object(O.jsx)("div",{className:"collection__content",children:Object(O.jsxs)("div",{className:"collection__data",children:[Object(O.jsx)("span",{children:"Phone Device Presets"}),Object(O.jsx)("h1",{children:"SMARTPHONES"}),Object(O.jsx)("a",{href:"#",children:"COMPRAR AHORA"})]})})]})]})})})},U=function(){var e=Object(n.useContext)(p).authenticatedUser;return Object(n.useEffect)((function(){e()}),[]),Object(O.jsxs)(n.Fragment,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(T,{}),Object(O.jsx)(M,{}),Object(O.jsx)(R,{}),Object(O.jsx)(P,{})]})},F=function(e){var t=e.mensaje;return Object(O.jsxs)("div",{className:"alerta alerta-error",children:[" ",t," "]})},L=a(83),H=a(37),V=function(e){var t=Object(n.useContext)(p),a=t.autenticado,c=t.logIn,r=Object(L.b)({initialValues:{email:"test1@test.com",password:"1234567"},validationSchema:H.b({email:H.c().email("El email no es valido").required("El email es obligatorio"),password:H.c().required("El password no puede ir vacio").min(6,"El password debe contener al menos 6 caracteres")}),onSubmit:function(e){c(e)}});return Object(n.useEffect)((function(){a&&e.history.push("/")}),[a,e.history]),Object(O.jsx)("div",{className:"form-usuario",children:Object(O.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(O.jsx)("h1",{children:"Iniciar Sesion"}),Object(O.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.name&&r.errors.name?Object(O.jsx)(F,{mensaje:r.errors.name}):null,Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(O.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Tu Password",value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.password&&r.errors.password?Object(O.jsx)(F,{mensaje:r.errors.password}):null,Object(O.jsx)("div",{className:"campo-form",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesion"})})]}),Object(O.jsx)(i.b,{to:"/nueva-cuenta",className:"enlace-cuenta",children:"Obtener Cuenta"})]})})},z=function(e){var t=Object(n.useContext)(p),a=t.autenticado,c=t.registerUser,r=Object(L.b)({initialValues:{name:"",email:"",password:"",address:""},validationSchema:H.b({name:H.c().required("El nombre es obligatorio"),email:H.c().email("El email no es valido").required("El email es obligatorio"),password:H.c().required("El password no puede ir vacio").min(6,"El password debe contener al menos 6 caracteres"),address:H.c().required("La direccion es obligatoria")}),onSubmit:function(e){c(e)}});return Object(n.useEffect)((function(){a&&e.history.push("/")}),[a,e.history]),Object(O.jsx)("div",{className:"form-usuario",children:Object(O.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(O.jsx)("h1",{children:"Obtener una cuenta"}),Object(O.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"text",children:"Nombre:"}),Object(O.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Tu Nombre",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.name&&r.errors.name?Object(O.jsx)(F,{mensaje:r.errors.name}):null,Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.name&&r.errors.email?Object(O.jsx)(F,{mensaje:r.errors.email}):null,Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(O.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Tu Password",value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.name&&r.errors.password?Object(O.jsx)(F,{mensaje:r.errors.password}):null,Object(O.jsxs)("div",{className:"campo-form",children:[Object(O.jsx)("label",{htmlFor:"address",children:"Direccion:"}),Object(O.jsx)("input",{type:"text",id:"address",name:"address",placeholder:"Agrega una direccion",value:r.values.address,onChange:r.handleChange,onBlur:r.handleBlur})]}),r.touched.name&&r.errors.address?Object(O.jsx)(F,{mensaje:r.errors.address}):null,Object(O.jsx)("div",{className:"campo-form",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Registrarme"})})]}),Object(O.jsx)(i.b,{to:"/",className:"enlace-cuenta",children:"Volver a Iniciar Sesion"})]})})},q=a(283),G=function(e){var t=e.component,a=Object(q.a)(e,["component"]),c=Object(n.useContext)(p),r=c.usuario,s=c.autenticado;return Object(O.jsx)(o.b,Object(v.a)(Object(v.a)({},a),{},{render:function(e){return r&&"ADMIN_ROLE"===r.rol&&s?Object(O.jsx)(t,Object(v.a)({},e)):Object(O.jsx)(o.a,{to:"/"})}}))},W=a(77),X=a(5),Y=a(515),$=a(546),K=a(543),J=a(516),Q=a(517),Z=a(520),ee=a(286),te=a(519),ae=a(518),ne=a(521),ce=a(522),re=a(110),se=a.n(re),ie=a(111),oe=a.n(ie),le=a(513),de=a(514),je=a(262),ue=a.n(je),be=a(153),pe=a.n(be),he=a(186),Oe=a.n(he),me=a(263),xe=a.n(me),fe=Object(O.jsxs)("div",{children:[Object(O.jsx)(le.a,{button:!0,className:"mb-2 mt-2",children:Object(O.jsxs)(i.b,{to:"/administracion",className:"adminMenuItem flex",children:[Object(O.jsx)(de.a,{children:Object(O.jsx)(ue.a,{})}),"Dashboard"]})}),Object(O.jsx)(le.a,{button:!0,className:"mb-2 mt-2",children:Object(O.jsxs)(i.b,{to:"/administracion/ordenes",className:"adminMenuItem flex",children:[Object(O.jsx)(de.a,{children:Object(O.jsx)(pe.a,{})}),"Ordenes"]})}),Object(O.jsx)(le.a,{button:!0,className:"mb-2 mt-2",children:Object(O.jsxs)(i.b,{to:"/administracion/usuarios",className:"adminMenuItem flex",children:[Object(O.jsx)(de.a,{children:Object(O.jsx)(Oe.a,{})}),"Clientes"]})}),Object(O.jsx)(le.a,{button:!0,className:"mb-2 mt-2",children:Object(O.jsxs)(i.b,{to:"/administracion/productos",className:"adminMenuItem flex",children:[Object(O.jsx)(de.a,{children:Object(O.jsx)(xe.a,{})}),"Productos"]})})]});function ge(){return Object(O.jsxs)(ee.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","Your Website",(new Date).getFullYear(),"."]})}var ve=Object(N.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ne(e){var t=e.children,a=e.titulo,r=ve(),s=c.a.useState(!0),o=Object(u.a)(s,2),l=o[0],d=o[1],j=Object(n.useContext)(p).authenticatedUser;return Object(n.useEffect)((function(){j()}),[]),Object(O.jsxs)("div",{className:r.root,children:[Object(O.jsx)(Y.a,{}),Object(O.jsx)(J.a,{position:"absolute",className:Object(X.a)(r.appBar,l&&r.appBarShift),children:Object(O.jsxs)(Q.a,{className:r.toolbar,children:[Object(O.jsx)(ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(X.a)(r.menuButton,l&&r.menuButtonHidden),children:Object(O.jsx)(se.a,{})}),Object(O.jsx)(ee.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:r.title,children:a}),Object(O.jsx)(ae.a,{color:"inherit"}),Object(O.jsx)(i.b,{to:"/",className:"text-white",children:"Volver a la Pagina Principal"})]})}),Object(O.jsxs)($.a,{variant:"permanent",classes:{paper:Object(X.a)(r.drawerPaper,!l&&r.drawerPaperClose)},open:l,children:[Object(O.jsx)("div",{className:r.toolbarIcon,children:Object(O.jsx)(ae.a,{onClick:function(){d(!1)},children:Object(O.jsx)(oe.a,{})})}),Object(O.jsx)(te.a,{}),Object(O.jsx)(Z.a,{children:fe}),Object(O.jsx)(te.a,{})]}),Object(O.jsxs)("main",{className:r.content,children:[Object(O.jsx)("div",{className:r.appBarSpacer}),Object(O.jsxs)(ne.a,{maxWidth:"lg",className:r.container,children:[Object(O.jsx)(ce.a,{container:!0,spacing:3,children:t}),Object(O.jsx)(K.a,{pt:4,children:Object(O.jsx)(ge,{})})]})]})]})}var ye=a(287);function we(e){return Object(O.jsx)(ee.a,{component:"h2",className:"text-center mt-3",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var Ce=Object(N.a)({depositContext:{flex:1}});function Ee(){var e=Ce(),t=Object(n.useContext)(h),a=t.pedidosPendientes,r=t.getPendingOrder;return Object(n.useEffect)((function(){r()}),[]),Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Ordenes Pendientes"}),Object(O.jsx)(ee.a,{component:"p",variant:"h4",className:"mt-3 text-red-500 text-center",children:a}),Object(O.jsx)(ee.a,{color:"textSecondary",className:"".concat(e.depositContext," mt-5 text-center"),children:(new Date).toLocaleDateString()})]})}var Se=a(523),ke=a(527),_e=a(526),Re=a(524),Pe=a(525),Be=Object(N.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Ie(){var e=Be(),t=Object(n.useContext)(h),a=t.pedidosReciente,r=t.getRecentOrder;return Object(n.useEffect)((function(){r()}),[]),Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Ordenes Recientes"}),Object(O.jsxs)(Se.a,{size:"small",children:[Object(O.jsx)(Re.a,{children:Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:"Fecha"}),Object(O.jsx)(_e.a,{children:"Nombre"}),Object(O.jsx)(_e.a,{children:"Envia a"}),Object(O.jsx)(_e.a,{align:"right",children:"Monto en Ventas"})]})}),Object(O.jsx)(ke.a,{children:a.map((function(e){return Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:new Date(e.creado).toLocaleDateString()}),Object(O.jsx)(_e.a,{children:e.client.name}),Object(O.jsx)(_e.a,{children:e.client.address}),Object(O.jsxs)(_e.a,{align:"right",children:["$ ",e.total]})]},e._id)}))})]}),Object(O.jsx)("div",{className:e.seeMore,children:Object(O.jsx)(i.b,{to:"/administracion/ordenes",children:"Ver m\xe1s pedidos"})})]})}var Te=a(528),Ae=a(529),De=a(533),Me=a(278),Ue=a(279),Fe=a(136),Le=a(133),He=a(282),Ve=function(){var e=Object(n.useContext)(h),t=e.productosMasVendido,a=e.getProductosMasVendido;return Object(n.useEffect)((function(){a()}),[]),Object(O.jsx)(Te.a,{width:"100%",height:"100%",children:Object(O.jsxs)(Ae.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(O.jsx)(De.a,{strokeDasharray:"3 3"}),Object(O.jsx)(Me.a,{dataKey:"name"}),Object(O.jsx)(Ue.a,{}),Object(O.jsx)(Fe.a,{}),Object(O.jsx)(Le.a,{}),Object(O.jsx)(He.a,{dataKey:"vendido",fill:"#8884d8"})]})})},ze=Object(N.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function qe(){var e=ze(),t=Object(X.a)(e.paper,e.fixedHeight);return Object(O.jsxs)(Ne,{titulo:"Dashboard",children:[Object(O.jsx)(ce.a,{item:!0,xs:12,md:8,lg:9,children:Object(O.jsx)(ye.a,{className:t,children:Object(O.jsx)(Ve,{})})}),Object(O.jsx)(ce.a,{item:!0,xs:12,md:4,lg:3,children:Object(O.jsx)(ye.a,{className:t,children:Object(O.jsx)(Ee,{})})}),Object(O.jsx)(ce.a,{item:!0,xs:12,children:Object(O.jsx)(ye.a,{className:e.paper,children:Object(O.jsx)(Ie,{})})})]})}var Ge=a(534),We=Object(N.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Xe(){var e=Object(o.g)(),t=Object(n.useContext)(_),a=t.productos,r=t.getProducts,s=t.removeProduct,l=t.productSelected,d=We();return Object(n.useEffect)((function(){r()}),[]),Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Todos Los Productos"}),Object(O.jsxs)(Se.a,{size:"small",children:[Object(O.jsx)(Re.a,{children:Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:"Nombre"}),Object(O.jsx)(_e.a,{children:"Precio"}),Object(O.jsx)(_e.a,{children:"Imagen"}),Object(O.jsx)(_e.a,{children:"Stock"}),Object(O.jsx)(_e.a,{align:"right",children:"Acciones"})]})}),Object(O.jsx)(ke.a,{children:a.map((function(t){return Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:t.name}),Object(O.jsx)(_e.a,{children:t.price}),Object(O.jsx)(_e.a,{children:Object(O.jsx)("img",{src:"".concat("https://nameless-reef-75485.herokuapp.com","/").concat(t.img),alt:"",className:"imagen-products"})}),Object(O.jsx)(_e.a,{children:t.stock}),Object(O.jsxs)(_e.a,{align:"right",children:[Object(O.jsx)("button",{className:"btn-borrar",onClick:function(){return function(t){l(t),e.push("/administracion/editar-producto/".concat(t._id))}(t)},children:Object(O.jsx)("i",{className:"far fa-edit"})}),Object(O.jsx)("button",{className:"btn-borrar",onClick:function(){return e=t._id,void s(e);var e},children:Object(O.jsx)("i",{className:"far fa-trash-alt"})})]})]},t._id)}))})]}),Object(O.jsx)("div",{className:d.seeMore,children:Object(O.jsx)(i.b,{to:"/administracion/agregar-producto",children:"Agregar Producto"})})]})}function Ye(){return Object(O.jsxs)(ee.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(O.jsx)(Ge.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var $e=Object(N.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ke(){var e=$e(),t=c.a.useState(!0),a=Object(u.a)(t,2),n=a[0],r=a[1];return Object(O.jsxs)("div",{className:e.root,children:[Object(O.jsx)(Y.a,{}),Object(O.jsx)(J.a,{position:"absolute",className:Object(X.a)(e.appBar,n&&e.appBarShift),children:Object(O.jsxs)(Q.a,{className:e.toolbar,children:[Object(O.jsx)(ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},className:Object(X.a)(e.menuButton,n&&e.menuButtonHidden),children:Object(O.jsx)(se.a,{})}),Object(O.jsx)(ee.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Productos"}),Object(O.jsx)(ae.a,{color:"inherit"}),Object(O.jsx)(Ge.a,{color:"primary",href:"/",className:" text-white",children:"Volver"})]})}),Object(O.jsxs)($.a,{variant:"permanent",classes:{paper:Object(X.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n,children:[Object(O.jsx)("div",{className:e.toolbarIcon,children:Object(O.jsx)(ae.a,{onClick:function(){r(!1)},children:Object(O.jsx)(oe.a,{})})}),Object(O.jsx)(te.a,{}),Object(O.jsx)(Z.a,{children:fe}),Object(O.jsx)(te.a,{})]}),Object(O.jsxs)("main",{className:e.content,children:[Object(O.jsx)("div",{className:e.appBarSpacer}),Object(O.jsxs)(ne.a,{maxWidth:"lg",className:e.container,children:[Object(O.jsx)(ce.a,{container:!0,spacing:3,children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:Object(O.jsx)(ye.a,{className:e.paper,children:Object(O.jsx)(Xe,{})})})}),Object(O.jsx)(K.a,{pt:4,children:Object(O.jsx)(Ye,{})})]})]})]})}var Je=a(547),Qe=a(538),Ze=Object(N.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{width:"auto",margin:e.spacing(5,2,2)},campo:{margin:e.spacing(0,3,3)}}}));function et(){var e=Ze(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(n.useContext)(_),b=j.editProduct,p=j.productoSeleccionado,h=H.b({name:H.c().required("El nombre del producto es obligatorio"),price:H.a().required("El precio no puede ir vacio").positive("No se aceptan n\xfameros negativos"),stock:H.a().required("El stock no puede ir vacio").positive("No se aceptan n\xfameros negativos")}),m=function(e){var t=new FileReader;t.onloadend=function(){d(t.result)},e.target.files[0]&&(console.log("leyendo archivo"),t.readAsDataURL(e.target.files[0]),s(e.target.files[0]))};return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Edita Un Producto"}),Object(O.jsx)(L.a,{enableReinitialize:!0,initialValues:p,validationSchema:h,onSubmit:function(e){if(""!==r){console.log("hay archivo");var t=new FormData;t.append("name",e.name),t.append("price",e.price),t.append("stock",e.stock),t.append("description",e.description),t.append("img",r),b(t,p._id)}else console.log("no hay archivo"),b(e,p._id)},children:function(t){return Object(O.jsxs)("form",{className:e.root,noValidate:!0,onSubmit:t.handleSubmit,children:[t.touched.stock&&t.errors.stock?Object(O.jsx)(F,{mensaje:t.errors.stock}):null,t.touched.name&&t.errors.name?Object(O.jsx)(F,{mensaje:t.errors.name}):null,t.touched.price&&t.errors.price?Object(O.jsx)(F,{mensaje:t.errors.price}):null,Object(O.jsxs)(ce.a,{container:!0,spacing:1,children:[Object(O.jsxs)(ce.a,{container:!0,item:!0,lg:6,md:6,spacing:1,children:[Object(O.jsx)(Je.a,{id:"standard-basic",label:"Nombre Producto",required:!0,className:e.campo,name:"name",value:t.values.name,onChange:t.handleChange,onBlur:t.handleBlur}),Object(O.jsx)(Je.a,{id:"standard-basic",type:"Number",label:"Precio",className:e.campo,name:"price",value:t.values.price,onChange:t.handleChange,onBlur:t.handleBlur}),Object(O.jsx)(Je.a,{id:"standard-basic",type:"Number",label:"Stock",display:"inline",className:e.campo,name:"stock",value:t.values.stock,onChange:t.handleChange,onBlur:t.handleBlur}),Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("label",{htmlFor:"descrition",className:"label-textArea",children:"Descripcion"}),Object(O.jsx)("textarea",{name:"description",cols:"40",rows:"10",className:"form-textarea",value:t.values.description,onChange:t.handleChange,onBlur:t.handleBlur}),Object(O.jsx)("input",{type:"file",className:"input-archivo",name:"img",value:t.values.image,onChange:m,onBlur:t.handleBlur})]})]}),Object(O.jsxs)(ce.a,{container:!0,item:!0,lg:6,md:6,spacing:1,children:[Object(O.jsx)("p",{className:"preview-text",children:"Imagen de producto preview"}),0!==l.length?Object(O.jsx)("img",{src:l,className:"preview",alt:""}):Object(O.jsx)("img",{src:"http://localhost:8080/".concat(p.img),className:"preview",alt:""})]})]}),Object(O.jsx)(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Editar"})]})}})]})}var tt=Object(N.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function at(){var e=tt();return Object(O.jsx)(Ne,{titulo:"Formulario Para Agregar Un Producto",children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:Object(O.jsx)(ye.a,{className:e.paper,children:Object(O.jsx)(et,{})})})})}var nt=Object(N.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},title:{margin:e.spacing(0,3,3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{width:"auto",margin:e.spacing(5,2,2)},campo:{margin:e.spacing(0,3,3)}}}));function ct(){var e=nt(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(n.useContext)(_).addProduct,b=Object(L.b)({initialValues:{name:"",price:"",stock:0,description:""},validationSchema:H.b({name:H.c().required("El nombre del producto es obligatorio"),price:H.a().required("El precio no puede ir vacio").positive("No se aceptan n\xfameros negativos"),stock:H.a().required("El stock no puede ir vacio").positive("No se aceptan n\xfameros negativos")}),onSubmit:function(e){console.log("pase por aca");var t=new FormData;t.append("name",e.name),t.append("price",e.price),t.append("stock",e.stock),t.append("description",e.description),t.append("img",r),j(t)}});return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Agrega Un Producto"}),b.touched.price&&b.errors.price?Object(O.jsx)(F,{mensaje:b.errors.price}):null,b.touched.name&&b.errors.name?Object(O.jsx)(F,{mensaje:b.errors.name}):null,b.touched.stock&&b.errors.stock?Object(O.jsx)(F,{mensaje:b.errors.stock}):null,Object(O.jsxs)("form",{className:e.root,noValidate:!0,onSubmit:b.handleSubmit,children:[Object(O.jsxs)(ce.a,{container:!0,spacing:1,children:[Object(O.jsxs)(ce.a,{container:!0,item:!0,lg:6,md:6,spacing:1,children:[Object(O.jsx)(Je.a,{id:"standard-basic",label:"Nombre Producto",required:!0,type:"string",className:e.campo,name:"name",value:b.values.name,onChange:b.handleChange,onBlur:b.handleBlur}),Object(O.jsx)(Je.a,{id:"standard-basic",type:"Number",label:"Precio",className:e.campo,name:"price",value:b.values.price,onChange:b.handleChange,onBlur:b.handleBlur}),Object(O.jsx)(Je.a,{id:"standard-basic",type:"Number",label:"Stock",display:"inline",className:e.campo,name:"stock",value:b.values.stock,onChange:b.handleChange,onBlur:b.handleBlur}),Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("label",{htmlFor:"descrition",className:"label-textArea",children:"Descripcion"}),Object(O.jsx)("textarea",{name:"description",cols:"40",rows:"10",className:"form-textarea",value:b.values.description,onChange:b.handleChange,onBlur:b.handleBlur}),Object(O.jsx)("input",{type:"file",className:"input-archivo",name:"img",value:b.values.image,onChange:function(e){var t=new FileReader;t.onloadend=function(){d(t.result)},e.target.files[0]&&(t.readAsDataURL(e.target.files[0]),s(e.target.files[0]))},onBlur:b.handleBlur})]})]}),Object(O.jsxs)(ce.a,{container:!0,item:!0,lg:6,md:6,spacing:1,children:[Object(O.jsx)("p",{className:"preview-text",children:"Imagen de producto preview"}),0!==l.length?Object(O.jsx)("img",{src:l,alt:"",className:"preview"}):null]})]}),Object(O.jsx)(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Agregar"})]})]})}var rt=Object(N.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function st(){var e=rt();return Object(O.jsx)(Ne,{titulo:"Formulario Para Agregar Un Producto",children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:Object(O.jsx)(ye.a,{className:e.paper,children:Object(O.jsx)(ct,{})})})})}var it=a(539),ot=a(542),lt=a(541),dt=a(540),jt=a(549),ut=a(535),bt=a(537),pt=a(544),ht=Object(n.createContext)(),Ot=Object(N.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120}}}));function mt(e){var t=e.uid,a=Ot(),r=c.a.useState(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=c.a.useState(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(n.useContext)(ht).assignRole,h=function(){o(!1)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(Qe.a,{onClick:function(){o(!0)},children:Object(O.jsx)("i",{className:"fas fa-caret-down"})}),Object(O.jsxs)(it.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:i,onClose:h,children:[Object(O.jsx)(dt.a,{children:"Selecciona un Rol"}),Object(O.jsx)(lt.a,{children:Object(O.jsx)("form",{className:a.container,children:Object(O.jsxs)(bt.a,{className:a.formControl,children:[Object(O.jsx)(jt.a,{htmlFor:"demo-dialog-native",children:"SELECCIONA"}),Object(O.jsxs)(pt.a,{native:!0,onChange:function(e){b(e.target.value||"")},input:Object(O.jsx)(ut.a,{id:"demo-dialog-native"}),children:[Object(O.jsx)("option",{"aria-label":"None",value:""}),Object(O.jsx)("option",{value:"USER_ROLE",children:"USER"}),Object(O.jsx)("option",{value:"ADMIN_ROLE",children:"ADMIN"}),Object(O.jsx)("option",{value:"VENTA_ROLE",children:"VENTA"})]})]})})}),Object(O.jsxs)(ot.a,{children:[Object(O.jsx)(Qe.a,{onClick:function(){h(),""!==j&&p(t,j)},color:"primary",children:"Confirmar"}),Object(O.jsx)(Qe.a,{onClick:h,color:"primary",children:"Cancelar"})]})]})]})}function xt(){var e=Object(n.useContext)(ht),t=e.usuarios,a=e.getAllUsers,r=e.deleteUser,s=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a()}),[]),Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(we,{children:"Todos los Usuarios"}),Object(O.jsxs)(Se.a,{size:"small",children:[Object(O.jsx)(Re.a,{children:Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:"Nombre"}),Object(O.jsx)(_e.a,{children:"Email"}),Object(O.jsx)(_e.a,{children:"Direccion"}),Object(O.jsx)(_e.a,{children:"Rol"}),Object(O.jsx)(_e.a,{children:"Asignar Rol"}),Object(O.jsx)(_e.a,{align:"right",children:"Acciones"})]})}),Object(O.jsx)(ke.a,{children:t.map((function(e){return Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(_e.a,{children:e.name}),Object(O.jsx)(_e.a,{children:e.email}),Object(O.jsx)(_e.a,{children:e.address}),Object(O.jsx)(_e.a,{children:e.rol}),Object(O.jsx)(_e.a,{children:Object(O.jsx)(mt,{uid:e.uid})}),Object(O.jsx)(_e.a,{align:"right",children:Object(O.jsx)("button",{className:"btn-borrar",onClick:function(){return s(e.uid)},children:Object(O.jsx)("i",{className:"far fa-trash-alt"})})})]},e.uid)}))})]})]})}var ft=Object(N.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function gt(){var e=ft();return Object(O.jsx)(Ne,{children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:Object(O.jsx)(ye.a,{className:e.paper,children:Object(O.jsx)(xt,{})})})})}var vt=Object(N.a)((function(e){return{paper:{marginBottom:e.spacing(3),padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"}}}));function Nt(e){var t=e.client,a=e.state,r=e.order,s=e.total,i=e._id,o=e.creado,l=Object(n.useContext)(h),d=l.deleteOrder,j=l.changeStateOrder,b=Object(n.useState)(a),p=Object(u.a)(b,2),m=p[0],x=p[1],f=Object(n.useState)(""),g=Object(u.a)(f,2),v=g[0],N=g[1],y=vt();return Object(n.useEffect)((function(){m&&x(m),N("PENDIENTE"===m?"bg-yellow-400":"COMPLETADO"===m?"bg-green-500":"bg-blue-400")}),[m]),Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(ye.a,{className:y.paper,children:Object(O.jsxs)("div",{className:"flex pedidos",children:[Object(O.jsxs)("div",{className:"izquierda",children:[Object(O.jsxs)("h4",{className:"negrita",children:["Cliente: ",t.name]}),Object(O.jsxs)("h5",{children:[" ",Object(O.jsx)("i",{className:"far fa-envelope"}),"Correo:",t.email]}),Object(O.jsxs)("h5",{children:[Object(O.jsx)("i",{className:"fas fa-map-marker-alt"}),"Un direccion: ",t.address]}),Object(O.jsx)("p",{className:"text-sm text-gray-600 txt-left",children:"".concat(new Date(o).toLocaleDateString())}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"negrita estado-pedido",children:"Estado Pedido:"}),Object(O.jsxs)("select",{className:"mt-2 appearance-none ".concat(v," border border-blue-600 text-white p-2 text-center rounded leading-tight focus:outline-none focus:").concat(v," focus:border-blue-500 uppercase text-xs font-bold\n                                "),value:m,onChange:function(e){return t=e.target.value,j(t,i),void x(t);var t},children:[Object(O.jsx)("option",{value:"COMPLETADO",children:"COMPLETADO"}),Object(O.jsx)("option",{value:"PENDIENTE",children:"PENDIENTE"}),Object(O.jsx)("option",{value:"ENVIO",children:"ENVIO"})]})]})]}),Object(O.jsxs)("div",{className:"derecha",children:[Object(O.jsx)("h4",{className:"negrita",children:"Resumen del Pedido"}),r.map((function(e){return Object(O.jsxs)("div",{className:"mt-1",children:[Object(O.jsxs)("p",{className:"text-sm text-gray-600 txt-left",children:["Producto: ",e.name," "]}),Object(O.jsxs)("p",{className:"text-sm text-gray-600 txt-left",children:["Cantidad: ",e.cant," "]})]},e._id)})),Object(O.jsxs)("p",{className:"text-gray-800 mt-3 font-bold negrita",children:["Total a pagar:",Object(O.jsxs)("span",{className:"font-light",children:[" $ ",s]})]}),"COMPLETADO"!==m?Object(O.jsxs)("button",{className:"uppercase text-xs font-bold  flex items-center mt-4 bg-red-800 px-5 py-2 inline-block text-white rounded leading-tight",onClick:function(){return d(i)},children:["Eliminar Pedido",Object(O.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-4 h-4 ml-2",children:Object(O.jsx)("path",{d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):null]})]})})})}a(459);var yt=function(){return Object(O.jsx)("div",{className:"centrar",children:Object(O.jsxs)("div",{className:"sk-folding-cube",children:[Object(O.jsx)("div",{className:"sk-cube1 sk-cube"}),Object(O.jsx)("div",{className:"sk-cube2 sk-cube"}),Object(O.jsx)("div",{className:"sk-cube4 sk-cube"}),Object(O.jsx)("div",{className:"sk-cube3 sk-cube"})]})})};function wt(){var e=Object(n.useContext)(p).authenticatedUser,t=Object(n.useContext)(h),a=t.pedidos,c=t.getOrders,r=t.loading;return Object(n.useEffect)((function(){e(),c()}),[]),r?Object(O.jsx)(yt,{}):Object(O.jsx)(Ne,{titulo:"Pedidos",children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:0!==(null===a||void 0===a?void 0:a.length)?a.map((function(e){return Object(O.jsx)(Nt,Object(v.a)({},e),e._id)})):"No hay pedidos"})})}var Ct=Object(O.jsx)("div",{children:Object(O.jsx)(le.a,{button:!0,className:"mb-2 mt-2",children:Object(O.jsxs)(i.b,{to:"/usuario/compras",className:"adminMenuItem flex",children:[Object(O.jsx)(de.a,{children:Object(O.jsx)(pe.a,{})}),"Mis Compras"]})})}),Et=Object(N.a)((function(e){return{paper:{marginBottom:e.spacing(3),padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"}}}));function St(e){var t=e.state,a=e.order,r=e.total,s=e.creado,i=Object(n.useState)(t),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(""),b=Object(u.a)(j,2),p=b[0],h=b[1],m=Et();return Object(n.useEffect)((function(){l&&d(l),h("PENDIENTE"===l?"bg-yellow-400":"COMPLETADO"===l?"bg-green-500":"bg-blue-400")}),[l]),Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(ye.a,{className:m.paper,children:Object(O.jsxs)("div",{className:"flex pedidos",children:[Object(O.jsx)("div",{className:"izquierda",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{className:"text-lg text-gray-600 txt-left",children:["Fecha: ","".concat(new Date(s).toLocaleDateString())]}),Object(O.jsx)("h4",{className:"negrita estado-pedido",children:"Estado Compra:"}),Object(O.jsx)("button",{className:"uppercase text-xs font-bold  flex items-center mt-4 ".concat(p," px-5 py-2 inline-block text-white rounded leading-tight"),children:l})]})}),Object(O.jsxs)("div",{className:"derecha",children:[Object(O.jsx)("h4",{className:"negrita",children:"Resumen del Pedido"}),a.map((function(e){return Object(O.jsxs)("div",{className:"mt-1",children:[Object(O.jsxs)("p",{className:"text-sm text-gray-600 txt-left",children:["Producto: ",e.name," "]}),Object(O.jsxs)("p",{className:"text-sm text-gray-600 txt-left",children:["Cantidad: ",e.cant," "]})]},e._id)})),Object(O.jsxs)("p",{className:"text-gray-800 mt-3 font-bold negrita",children:["Total a pagar:",Object(O.jsxs)("span",{className:"font-light",children:[" $ ",r]})]})]})]})})})}var kt=Object(N.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function _t(){var e=kt(),t=c.a.useState(!0),a=Object(u.a)(t,2),r=a[0],s=a[1],o=Object(n.useContext)(p),l=Object(n.useContext)(h),d=l.pedidoUsuario,j=l.getOrder,b=o.authenticatedUser,m=o.usuario.uid;return Object(n.useEffect)((function(){b(),j(m)}),[]),d?Object(O.jsxs)("div",{className:e.root,children:[Object(O.jsx)(Y.a,{}),Object(O.jsx)(J.a,{position:"absolute",className:Object(X.a)(e.appBar,r&&e.appBarShift),children:Object(O.jsxs)(Q.a,{className:e.toolbar,children:[Object(O.jsx)(ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},className:Object(X.a)(e.menuButton,r&&e.menuButtonHidden),children:Object(O.jsx)(se.a,{})}),Object(O.jsx)(ee.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Mi Compras"}),Object(O.jsx)(i.b,{to:"/",className:" text-white",children:"Volver"})]})}),Object(O.jsxs)($.a,{variant:"permanent",classes:{paper:Object(X.a)(e.drawerPaper,!r&&e.drawerPaperClose)},open:r,children:[Object(O.jsx)("div",{className:e.toolbarIcon,children:Object(O.jsx)(ae.a,{onClick:function(){s(!1)},children:Object(O.jsx)(oe.a,{})})}),Object(O.jsx)(te.a,{}),Object(O.jsx)(Z.a,{children:Ct}),Object(O.jsx)(te.a,{})]}),Object(O.jsxs)("main",{className:e.content,children:[Object(O.jsx)("div",{className:e.appBarSpacer}),Object(O.jsx)(ne.a,{maxWidth:"lg",className:e.container,children:Object(O.jsx)(ce.a,{container:!0,spacing:3,children:Object(O.jsx)(ce.a,{item:!0,xs:12,children:d?d.map((function(e){return Object(O.jsx)(St,Object(v.a)({},e),e._id)})):"No hay pedidos"})})})]})]}):"cargando pedidos..."}var Rt=a(38),Pt="OBTENER_PRODUCTOS",Bt="AGREGAR_PRODUCTOS",It="MODIFICAR_PRODUCTOS",Tt="ELIMINAR_PRODUCTO",At="PRODUCTO_ACTUAL",Dt="OBTENER_CARRITO",Mt="AGREGAR_CARRITO",Ut="ELIMINAR_CARRITO",Ft="VACIAR_CARRITO",Lt="OBTENER_TOTAL",Ht="MOSTRAR_ALERTA",Vt="OCULTAR_ALERTA",zt="REGISTRO_EXITOSO",qt="OBTENER_USUARIO",Gt="LOGIN_EXITOSO",Wt="CERRAR_SESION",Xt="OBTENER_USUARIOS",Yt="ELIMINAR_USUARIO",$t="ASIGNAR_ROL",Kt="OBTENER_PEDIDOS",Jt="OBTENER_PEDIDOS_USUARIO",Qt="GENERAR_PEDIDOS",Zt="ELIMINAR_PEDIDOS",ea="MODIFICAR_PEDIDOS",ta="MEJORES_CLIENTES",aa="PRODUCTOS_MAS_VENDIDO",na="PEDIDOS_RECIENTES",ca="PEDIDOS_PENDIENTES",ra=function(e,t){switch(t.type){case Pt:return Object(v.a)(Object(v.a)({},e),{},{productos:t.payload});case Bt:return Object(v.a)(Object(v.a)({},e),{},{productos:[].concat(Object(Rt.a)(e.productos),[t.payload])});case Tt:return Object(v.a)(Object(v.a)({},e),{},{productos:e.productos.filter((function(e){return e._id!==t.payload}))});case At:return Object(v.a)(Object(v.a)({},e),{},{productoSeleccionado:t.payload});case It:return Object(v.a)(Object(v.a)({},e),{},{productos:e.productos.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},sa=a(17),ia=a.n(sa),oa=a(280),la=a.n(oa).a.create({baseURL:"https://nameless-reef-75485.herokuapp.com/api/"}),da=function(e){var t=Object(n.useReducer)(ra,{productos:[],productoSeleccionado:{},error:null}),a=Object(u.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("product");case 3:t=e.sent,r({type:Pt,payload:t.data.productos}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("editando",a),e.prev=1,e.next=4,la.put("/product/".concat(a),t);case 4:n=e.sent,console.log(n),console.log(n.data.newProduct),r({type:It,payload:n.data.newProduct}),ia.a.fire({customClass:{container:"z-index"},icon:"success",title:"Correcto",text:"El producto se modifico correctamente"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia.a.fire({title:"Subiendo producto!",html:"En seguida subimos el producto",timer:1500,timerProgressBar:!0,didOpen:function(){ia.a.showLoading(),a=setInterval((function(){var e=ia.a.getHtmlContainer();if(e){var t=e.querySelector("b");t&&(t.textContent=ia.a.getTimerLeft())}}),100)},willClose:function(){clearInterval(a)}}).then((function(e){e.dismiss===ia.a.DismissReason.timer&&console.log("I was closed by the timer")})),e.prev=1,e.next=4,la.post("/product",t,{headers:{"Content-Type":"multipart/form-data"}});case 4:n=e.sent,r({type:Bt,payload:t}),ia.a.fire("Correcto",n.data.msg,"success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(_.Provider,{value:{productos:c.productos,productoSeleccionado:c.productoSeleccionado,getProducts:s,addProduct:o,editProduct:i,removeProduct:function(e){ia.a.fire({title:"Estas Seguro?",text:"Una vez eliminado no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!"}).then((function(t){t.isConfirmed&&(la.delete("/product/".concat(e)),r({type:Tt,payload:e}),ia.a.fire("Eliminado!","El producto fue eliminado.","success"))})).catch((function(e){return console.log}))},productSelected:function(e){r({type:At,payload:e})}},children:e.children})},ja=function(e,t){switch(t.type){case Dt:return Object(v.a)(Object(v.a)({},e),{},{carrito:t.payload});case Mt:var a=Object(Rt.a)(e.carrito),n={productId:t.payload.idProducto,name:t.payload.nombre,description:t.payload.descripcion,img:t.payload.img,price:t.payload.precio,cant:t.payload.cantidad};if(a.some((function(e){return e.id===t.payload.id}))){var c=a.map((function(e){return e.id===t.payload.id?Object(v.a)(Object(v.a)({},e),{},{cantidad:t.payload.cantidad}):e}));return Object(v.a)(Object(v.a)({},e),{},{carrito:Object(Rt.a)(c)})}return Object(v.a)(Object(v.a)({},e),{},{carrito:[].concat(Object(Rt.a)(e.carrito),[n])});case Lt:var r=0;return e.carrito.forEach((function(e){r+=e.price*e.cant})),Object(v.a)(Object(v.a)({},e),{},{Total:r});case Ut:return Object(v.a)(Object(v.a)({},e),{},{carrito:e.carrito.filter((function(e){return e.productId!==t.payload}))});case Ft:return e.carrito=[],Object(v.a)(Object(v.a)({},e),{},{Total:0});case"CARRITO_ERROR":return Object(v.a)(Object(v.a)({},e),{},{mensaje:t.payload});default:return e}},ua=function(e){var t=Object(n.useReducer)(ja,{carrito:[],Total:0}),a=Object(u.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("cart");case 3:t=e.sent,r({type:Dt,payload:t.data.cartUser.carrito}),i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){r({type:Lt})},o=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={cant:t.cantidad},e.prev=1,e.next=4,la.post("cart/".concat(t.idProducto),a);case 4:r({type:Mt,payload:t}),ia.a.fire("Correcto","El producto se agrego correctamente","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ia.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.delete("cart/".concat(t));case 3:r({type:Ut,payload:t}),i(),ia.a.fire("Correcto","El producto se elimino correctamente","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),ia.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(b.Provider,{value:{carrito:c.carrito,Total:c.Total,getCart:s,removeProductCart:l,emptyCart:function(){ia.a.fire({title:"Estas seguro?",text:"Una vez confirmado la operacion no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminalo!"}).then((function(e){e.isConfirmed&&(la.delete("cart/vaciar"),r({type:Ft}),ia.a.fire("Eliminado!","Todos los productos fueron eliminado","success"))}))},addCart:o,getTotal:i,inicializeCart:function(){r({type:Ft})}},children:e.children})},ba=function(e,t){switch(t.type){case zt:case Gt:return localStorage.setItem("token",t.payload),Object(v.a)(Object(v.a)({},e),{},{autenticado:!0,mensaje:null,cargando:!1});case qt:return Object(v.a)(Object(v.a)({},e),{},{autenticado:!0,usuario:t.payload,cargando:!1});case Wt:return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,autenticado:null,usuario:null,mensaje:t.payload,cargando:!1});default:return e}},pa=function(e){e?la.defaults.headers.common["x-auth-token"]=e:delete la.defaults.headers.common["x-auth-token"]},ha=function(e){var t={token:localStorage.getItem("token"),autenticado:null,usuario:null,mensaje:null,cargando:!0},a=Object(n.useReducer)(ba,t),c=Object(u.a)(a,2),r=c[0],s=c[1],i=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rol="USER_ROLE",e.prev=1,e.next=4,la.post("user",t);case 4:a=e.sent,s({type:zt,payload:a.data.token}),o(),ia.a.fire({position:"top-end",icon:"success",title:"Bienvenido a Digital Shop",showConfirmButton:!1,timer:2500}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=16;break}return pa(t),e.prev=3,e.next=6,la.get("auth/user");case 6:a=e.sent,s({type:qt,payload:a.data.usuario}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 14:e.next=17;break;case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.post("auth/login",t);case 3:a=e.sent,s({type:Gt,payload:a.data.token}),o(),ia.a.fire({position:"top-end",icon:"success",title:"Bienvenido a Pet Shop",showConfirmButton:!1,timer:1e3}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.msg),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(p.Provider,{value:{token:r.token,autenticado:r.autenticado,usuario:r.usuario,mensaje:r.mensaje,cargando:r.cargando,registerUser:i,logIn:l,authenticatedUser:o,signOut:function(){s({type:Wt}),ia.a.fire({position:"top-end",icon:"success",title:"Nos vemos! esperamos volver a verte en pronto!",showConfirmButton:!1,timer:2500})}},children:e.children})},Oa=function(e,t){switch(t.type){case Ht:return{alert:t.payload};case Vt:return{alert:null};default:return e}},ma=Object(n.createContext)(),xa=function(e){var t=Object(n.useReducer)(Oa,{alert:null}),a=Object(u.a)(t,2),c=a[0],r=a[1];return Object(O.jsx)(ma.Provider,{value:{alert:c.alert,showAlert:function(e,t){r({type:Ht,payload:{msg:e,category:t}}),setTimeout((function(){r({type:Vt})}),5e3)}},children:e.children})},fa=function(e,t){switch(t.type){case Xt:return Object(v.a)(Object(v.a)({},e),{},{usuarios:t.payload});case Yt:return Object(v.a)(Object(v.a)({},e),{},{usuarios:e.usuarios.filter((function(e){return e.uid!==t.payload}))});case $t:return Object(v.a)(Object(v.a)({},e),{},{usuarios:e.usuarios.map((function(e){return e.uid===t.payload.uid?(e.rol=t.payload.rol,e):e}))});default:return e}},ga=function(e){var t=Object(n.useReducer)(fa,{usuarios:[]}),a=Object(u.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("/user");case 3:t=e.sent,console.log(t.data.users),r({type:Xt,payload:t.data.users}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.msg),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={rol:a},e.prev=1,e.next=4,la.put("/user/rol/".concat(t),n);case 4:r({type:$t,payload:{uid:t,rol:n.rol}}),ia.a.fire({icon:"success",title:"Correcto",text:"Se ejecuto correctamente"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:"Hubo un error"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(O.jsx)(ht.Provider,{value:{usuarios:c.usuarios,getAllUsers:s,deleteUser:function(e){ia.a.fire({title:"Estas Seguro?",text:"Una vez eliminado no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!"}).then((function(t){if(t.isConfirmed){var a=la.delete("/user/".concat(e));console.log(a),r({type:Yt,payload:e}),ia.a.fire("Eliminado!","El usuario fue eliminado.","success")}})).catch((function(e){return console.log(e)}))},assignRole:i},children:e.children})},va=function(e,t){switch(t.type){case Kt:return Object(v.a)(Object(v.a)({},e),{},{pedidos:t.payload,loading:!1});case Jt:return Object(v.a)(Object(v.a)({},e),{},{pedidoUsuario:t.payload});case Qt:return Object(v.a)(Object(v.a)({},e),{},{pedidos:[t.payload].concat(Object(Rt.a)(e.pedidos))});case Zt:return Object(v.a)(Object(v.a)({},e),{},{pedidos:e.pedidos.filter((function(e){return e._id!==t.payload}))});case ea:return Object(v.a)(Object(v.a)({},e),{},{pedidos:e.pedidos.map((function(e){return e._id===t.payload._id?t.payload:e}))});case ta:return Object(v.a)(Object(v.a)({},e),{},{mejoresClientes:t.payload});case aa:var a=t.payload.slice(0,7);return Object(v.a)(Object(v.a)({},e),{},{productosMasVendido:a});case na:return Object(v.a)(Object(v.a)({},e),{},{pedidosReciente:t.payload});case ca:return Object(v.a)(Object(v.a)({},e),{},{pedidosPendientes:t.payload});default:return e}},Na=function(e){var t=Object(n.useReducer)(va,{mejoresClientes:[],productosMasVendido:[],pedidos:[],pedidoUsuario:[],pedidosReciente:[],pedidosPendientes:null,loading:!0}),a=Object(u.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.post("/order",t);case 3:a=e.sent,r({type:Qt}),ia.a.fire({customClass:{container:"z-index"},icon:"success",title:"Correcto",text:a.data.msg}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("/order/".concat(t));case 3:a=e.sent,r({type:Jt,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("/order");case 3:t=e.sent,r({type:Kt,payload:t.data.orders}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("/order/ordenesreciente/orden");case 3:t=e.sent,r({type:na,payload:t.data.recentOrders}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("/order/ordenespendientes/orden");case 3:t=e.sent,r({type:ca,payload:t.data.pendingOrders}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ia.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={state:t},e.prev=1,e.next=4,la.put("/order/".concat(a),n);case 4:c=e.sent,console.log(c.data.pedido),r({type:ea,payload:c.data.pedido}),ia.a.fire({icon:"success",title:"Correcto",text:"Se ejecuto correctamente"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:"Hubo un error"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("order/mejoresclientes/clientes");case 3:t=e.sent,r({type:ta,payload:t.data.mejoresClientes}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:"Hubo un error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la.get("order/productosMasVendido/productos");case 3:t=e.sent,r({type:aa,payload:t.data.productosMasVendidoOrdenado}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),ia.a.fire({icon:"error",title:"Oops...",text:"Hubo un error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(h.Provider,{value:{mejoresClientes:c.mejoresClientes,productosMasVendido:c.productosMasVendido,pedidosReciente:c.pedidosReciente,pedidosPendientes:c.pedidosPendientes,pedidos:c.pedidos,pedidoUsuario:c.pedidoUsuario,loading:c.loading,getOrder:i,createOrder:s,getOrders:o,getRecentOrder:l,deleteOrder:function(e){try{ia.a.fire({title:"Estas Seguro?",text:"Una vez eliminado no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!"}).then((function(t){t.isConfirmed&&(la.delete("/order/".concat(e)),r({type:Zt,payload:e}),ia.a.fire("Eliminado!","El usuario fue eliminado.","success"))}))}catch(t){ia.a.fire({icon:"error",title:"Oops...",text:"Hubo un error"})}},changeStateOrder:p,bestClients:m,getProductosMasVendido:x,getPendingOrder:b},children:e.children})},ya=localStorage.getItem("token");ya&&pa(ya);var wa=function(){return Object(O.jsx)(i.a,{children:Object(O.jsx)(xa,{children:Object(O.jsx)(Na,{children:Object(O.jsx)(ga,{children:Object(O.jsx)(da,{children:Object(O.jsx)(ua,{children:Object(O.jsx)(ha,{children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{exact:!0,path:"/",component:U}),Object(O.jsx)(o.b,{exact:!0,path:"/login",component:V}),Object(O.jsx)(o.b,{exact:!0,path:"/nueva-cuenta",component:z}),Object(O.jsx)(o.b,{exact:!0,path:"/usuario/compras",component:_t}),Object(O.jsx)(G,{exact:!0,path:"/administracion",component:qe}),Object(O.jsx)(G,{exact:!0,path:"/administracion/productos",component:Ke}),Object(O.jsx)(G,{exact:!0,path:"/administracion/editar-producto/:id",component:at}),Object(O.jsx)(G,{exact:!0,path:"/administracion/agregar-producto",component:st}),Object(O.jsx)(G,{exact:!0,path:"/administracion/usuarios",component:gt}),Object(O.jsx)(G,{exact:!0,path:"/administracion/ordenes",component:wt}),Object(O.jsx)(o.a,{to:"/"})]})})})})})})})})},Ca=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,551)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(wa,{}),document.getElementById("root")),Ca()}},[[477,1,2]]]);
//# sourceMappingURL=main.51e8c748.chunk.js.map